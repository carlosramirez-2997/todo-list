<%- include('../includes/head.ejs') %>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
<style>
    #calendar {
        max-width: 100%;
        height: 90vh;
        margin: 0 auto;
        overflow: hidden;
    }
</style>

</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <main class="pt-[60px]">
        <div id='calendar'></div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                    events: <%- events %>,

                    eventClick: function(event, jsEvent, view) {
                        console.log(event);
                        alert('Task: ' + event.event.title);
                    },
                    editable: true,
                    droppable: true
                });
                calendar.render();
            });
        </script>
    </main>

<%- include('../includes/end.ejs') %>